(function(){var a=Array.prototype.slice,b=function(a,b){return function(){return a.apply(b,arguments)}};window.TextFileReader=function(){function c(a){this.DEBUG=a;if(c.works==null)return!1;this.callbacks={loadstart:[],progress:[],load:[],abort:[],error:[],loadend:[],success:[],always:[]},this.supported()}return c.prototype.callbacks={},c.prototype.setDebug=function(a){this.DEBUG=a},c.prototype.enableDebug=function(){return this.setDebug(!0)},c.prototype.enableDebug=function(){return this.setDebug(!1)},c.prototype.supported=function(){try{return typeof FileReader!="undefined"&&FileReader!==null&&typeof File!="undefined"&&File!==null}catch(a){return!1}},c.prototype.bind=function(){var b,c,d,e,f;b=1<=arguments.length?a.call(arguments,0):[],f=[];for(d=0,e=b.length;d<e;d++)c=b[d],f.push(this.add_cb(c));return f},c.prototype.add_cb=function(a){var b,c,d,e;e=[];for(b in a)c=a[b],e.push(this.callbacks[b]!=null?typeof (d=this.callbacks[b]).push=="function"?d.push(c):void 0:void 0);return e},c.prototype.read=function(a){var c;return this.file=a,this.supported()?(c=new FileReader,c.onloadstart=b(function(a){var b,c,d,e,f,g,h,i;this.DEBUG&&console.log("onloadstart",a);if(this.callbacks.always!=null){g=this.callbacks.always;for(c=0,e=g.length;c<e;c++)b=g[c],typeof b=="function"&&b(a)}if(this.callbacks.start!=null){h=this.callbacks.start,i=[];for(d=0,f=h.length;d<f;d++)b=h[d],i.push(typeof b=="function"?b(a):void 0);return i}},this),c.onprogress=b(function(a){var b,c,d,e,f,g,h,i;this.DEBUG&&console.log("onprogress",a);if(this.callbacks.always!=null){g=this.callbacks.always;for(c=0,e=g.length;c<e;c++)b=g[c],typeof b=="function"&&b(a)}if(this.callbacks.progress!=null){h=this.callbacks.progress,i=[];for(d=0,f=h.length;d<f;d++)b=h[d],i.push(typeof b=="function"?b(a):void 0);return i}},this),c.onload=b(function(a){var b,c,d,e,f,g,h,i;this.DEBUG&&console.log("onload",a);if(this.callbacks.always!=null){g=this.callbacks.always;for(c=0,e=g.length;c<e;c++)b=g[c],typeof b=="function"&&b(a)}if(this.callbacks.load!=null){h=this.callbacks.load,i=[];for(d=0,f=h.length;d<f;d++)b=h[d],i.push(typeof b=="function"?b(a):void 0);return i}},this),c.onabort=b(function(a){var b,c,d,e,f,g,h,i;this.DEBUG&&console.log("onabort",a);if(this.callbacks.always!=null){g=this.callbacks.always;for(c=0,e=g.length;c<e;c++)b=g[c],typeof b=="function"&&b(a)}if(this.callbacks.abort!=null){h=this.callbacks.abort,i=[];for(d=0,f=h.length;d<f;d++)b=h[d],i.push(typeof b=="function"?b(a):void 0);return i}},this),c.onerror=b(function(a){var b,c,d,e,f,g,h,i;this.DEBUG&&console.log("onerror",a);if(this.callbacks.always!=null){g=this.callbacks.always;for(c=0,e=g.length;c<e;c++)b=g[c],typeof b=="function"&&b(a)}if(this.callbacks.error!=null){h=this.callbacks.error,i=[];for(d=0,f=h.length;d<f;d++)b=h[d],i.push(typeof b=="function"?b(a):void 0);return i}},this),c.onloadend=b(function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o;this.DEBUG&&console.log("onloadend",b),e=a.name.split(".").reverse()[0],d=/text/i.test(a.type);if(this.callbacks.always!=null){l=this.callbacks.always;for(f=0,i=l.length;f<i;f++)c=l[f],typeof c=="function"&&c(b)}if(this.callbacks.loadend!=null){m=this.callbacks.loadend;for(g=0,j=m.length;g<j;g++)c=m[g],typeof c=="function"&&c(b)}if(this.callbacks.success!=null){n=this.callbacks.success,o=[];for(h=0,k=n.length;h<k;h++)c=n[h],o.push(typeof c=="function"?c(b.target.result,a.name,e,d):void 0);return o}},this),c.readAsText(this.file)):!1},c.prototype.errorHandler=function(a){switch(a.target.error.code){case a.target.error.NOT_FOUND_ERR:return alert("Datei konnte nicht gefunden werden.");case a.target.error.NOT_READABLE_ERR:return alert("Datei kann nicht gelesen werden.");case a.target.error.ABORT_ERR:return alert("Abgebrochen.");default:return alert("Ein unbekannter Fehler ist aufgetreten.")}},c}(),window.TextFileReader.works=(new TextFileReader).supported()}).call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};$(function(){return $.fn.paster=function(b){return jQuery.event.props.push("clipboardData"),this.each(a(function(){return $(this).bind("selectstart",function(a){return typeof a.preventDefault=="function"?a.preventDefault():void 0}),$(this).addClass("paster"),$(this).find("textarea").remove(),$(this).click(function(a){var c;return $(this).find("textarea").remove(),$(this).addClass("ready"),c=$('<textarea style="position:absolute;left:-9999px;top:-99999em;width:0!important;height:0!important;"/>').appendTo($(this)),c.val(""),c.focus(),c.one("blur",function(a){return $(this).closest(".paster").removeClass("ready"),$(this).remove()}),c.one("paste",function(a){var c,d,e,f,g;return $(this).closest(".paster").removeClass("ready"),c=(f=a.clipboardData)!=null?f:a.originalEvent.clipboardData,c?(e=(g=c.types)!=null?g:"Text",d=typeof c.getData=="function"?c.getData(e):void 0,typeof b=="function"&&b(d,a),$(this).remove()):$(this).one("change keyup",function(a){return typeof a.preventDefault=="function"&&a.preventDefault(),d=$(this).val(),typeof b=="function"&&b(d,a),$(this).remove()})})})},this))}})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};$(function(){return $.fn.dropper=function(b){var c;return this.addClass("dropper"),typeof TextFileReader=="undefined"||TextFileReader===null||TextFileReader.works==null?(this.addClass("unsupported"),console.error("FILE OBJECTS NOT SUPPORTED"),this):(jQuery.event.props.push("dataTransfer"),$(document).bind("dragover drop",function(a){return typeof a.preventDefault=="function"?a.preventDefault():void 0}),this.bind("selectstart",function(a){return typeof a.preventDefault=="function"?a.preventDefault():void 0}),this.removeClass("loaded success dragover dropped").bind("dragover",function(a){return typeof a.preventDefault=="function"&&a.preventDefault(),a.stopPropagation(),$(this).addClass("dragover").removeClass("dropped"),!1}).bind("mouseout dragend",function(){return $(this).removeClass("dragover dropped")}),c={success:a(function(a){return $(this).addClass("success")},this),always:a(function(a){return $(this).removeClass(function(a,b){var c,d,e;e=[],c=null,d=/on\w+/gi;while(c=d.exec(b))e.push(c[0]);return e.map(function(a){return $.trim(a)}).join(" ")}).addClass("on"+a.type)},this)},this.reader=new TextFileReader,this.reader.bind(c),this.reader.bind(b),this.bind("drop",a(function(a){var b;return a.stopPropagation(),a.preventDefault(),$(this).removeClass("dragover sucess").addClass("dropped"),b=a.dataTransfer.files[0],b!=null&&this.reader.read(b),null},this)))}})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};$(function(){return $.fn.filer=function(b,c){var d,e;return this.addClass("filer"),typeof TextFileReader=="undefined"||TextFileReader===null||TextFileReader.works==null?(this.addClass("unsupported"),console.error("FILE OBJECTS NOT SUPPORTED"),this):(this.bind("selectstart",function(a){return typeof a.preventDefault=="function"?a.preventDefault():void 0}),d=$('<input type="file" style="position:absolute; top: -999999px;" id="filerhelper">'),d=$(d).appendTo($("body").remove("#filerhelper")),this.click(a(function(a){return $(this).removeClass("success loaded"),d.click(),!1},this)),e={success:a(function(a){return $(this).addClass("success")},this),always:a(function(a){return $(this).removeClass(function(a,b){var c,d,e;e=[],c=null,d=/on\w+/gi;while(c=d.exec(b))e.push(c[0]);return e.map(function(a){return $.trim(a)}).join(" ")}).addClass("on"+a.type)},this)},this.reader=new TextFileReader,this.reader.bind(e),this.reader.bind(b),d.change(a(function(a){var b;return typeof a.preventDefault=="function"&&a.preventDefault(),b=a.target.files[0],b?($(this).addClass("success"),b!=null&&this.reader.read(b),null):!1},this)))}})}.call(this)